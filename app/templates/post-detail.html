<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/post-detail.css') }}">
    <script>
    </script>
</head>

<body>
    <div class="container">
        <aside class="Leftsidebar">
            <!-- 左边导航栏 -->
            <nav>
                <ul>
                    <li><a href="#">Home</a></li>
                    <li><a href="#">Gardening</a></li>
                    <li><a href="#">Housework</a></li>
                    <li><a href="#">Afterschool</a></li>
                    <li><a href="#">Question</a></li>
                    <li><a href="#">Other</a></li>
                </ul>
            </nav>
        </aside>
        <main class="main">
            <!-- 顶部导航栏 -->
            <header>
                <div class="logo">
                    <img src="{{ url_for('static',filename='/images/logo.png') }}" alt="Company Logo">
                </div>
                <!-- 搜索框 -->
                <!-- <div class="search-container">
                    <select>
                        <option value="Title">Title</option>
                        <option value="Comment">Comment</option>
                    </select>
                    <input type="text" placeholder="Search...">
                    <button type="submit">搜索</button>
                </div> -->
                <!-- 用户信息 -->
                <div class="user-info">
                    <div class="avatar"><img src="" alt="头像"></div>
                    <span class="username">Username</span>
                    <span class="userEmail">2333@student.uwa.edu.au</span>
                </div>
            </header>
            <!-- 帖子内容 -->
            <div class="post" tabindex="0">
                <div class="info-container">
                    <img src="{{ url_for('profile.get_avatar', filename=current_user.avatar) }}" alt="..."
                        class="img-circle">
                    <p>{{ post.author.username }}</p>
                    <p class="create-time">{{ post.create_time.strftime('%Y-%m-%d %H:%M') }}</p>
                </div>
                <h2>{{ post.title }}</h2>
                <p>{{ post.content }}</p>
                <span class="post-type">Code:{{ post.post_type }}</span>
                <span class="post-code">Code:{{ post.post_type }}</span>
            </div>
            <!-- 评论编辑 -->
            <div class="comment-edit">
                <form action="{{ url_for('postCom.create_comment') }}" method="post">
                    {{ form.hidden_tag() }}
                    <!-- 编辑区 -->
                    {{ form.content(size=200, placeholder="Enter your comment...", id="comment-textarea")
                    }}
                    <div class="counter" id="comment-counter">Max characters: 0/200</div>
                    <input type="hidden" name="post_id" value="{{ post.id }}">
                    <br>
                    <!-- 提交按钮 -->
                    <button type="submit" id="comment-submit">Comment</button>
                </form>
            </div>
            <!-- 读取comment模块 -->
            {% for comment in comments %}
            <div class="comment" tabindex="0" data-author-id="123" onclick="acceptComment(this)">
                <div class="info-container">
                    <img src="{{ url_for('profile.get_avatar', filename=current_user.avatar) }}" alt="User Avatar"
                        class="img-circle">
                    <p>{{ comment.author.username }}</p>
                    <p class="comment-time">{{ comment.create_time.strftime('%Y-%m-%d %H:%M') }}</p>
                </div>
                <p>{{ comment.content }}</p>
            </div>
            {% endfor %}
        </main>
        <!---->
        <aside class="Rightsidebar">
            <div class="rank">Rank</div>
            <div class="profile-info">
                <div class="points-circle">
                    <div class="loading">
                        <span style="--i:1;"></span>
                        <span style="--i:2;"></span>
                        <span style="--i:3;"></span>
                        <span style="--i:4;"></span>
                        <span style="--i:5;"></span>
                        <span style="--i:6;"></span>
                        <span style="--i:7;"></span>
                        <span style="--i:8;"></span>
                        <span style="--i:9;"></span>
                        <span style="--i:10;"></span>
                        <span style="--i:11;"></span>
                        <span style="--i:12;"></span>
                        <span style="--i:13;"></span>
                        <span style="--i:14;"></span>
                        <span style="--i:15;"></span>
                        <span style="--i:16;"></span>
                        <span style="--i:17;"></span>
                        <span style="--i:18;"></span>
                        <span style="--i:19;"></span>
                        <span style="--i:20;"></span>
                    </div>
                    <div class="word">
                        125
                    </div>
                </div>
                <div class="member-status">
                    <h1>Silver Member</h1>
                    <p>( / )</p>
                </div>
                <div class="statistics">
                    <div class="stat-item">
                        <p>Total posts:</p>
                    </div>
                    <div class="stat-item">
                        <p>Task solved:</p>
                    </div>
                    <div class="stat-item">
                        <p>Total Comments:</p>
                    </div>
                </div>
            </div>
        </aside>
    </div>
</body>

</html>